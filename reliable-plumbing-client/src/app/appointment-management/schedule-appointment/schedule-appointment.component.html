<section class="register">
  <div class="register-container">
    <div class="container">
      <form [formGroup]="appointmentForm" novalidate>
        <ng-container *ngIf="!isLoggedIn">
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="fullName" class="">Full Name
                  <i *ngIf="getControlValidation('fullName','required')">*</i>
                </label>
                <input type="text" name="fullName" class="form-control" formControlName="fullName" [(ngModel)]="appointment.fullName" />
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="email" class="">Email
                  <i *ngIf="getControlValidation('email','required')">*</i>
                </label>
                <input type="email" name="email" class="form-control" placeholder="ex: exmple@domain.com" formControlName="email" [(ngModel)]="appointment.email"
                />
                <span class="error-message" *ngIf="getControlValidation('email','email', false)">Please enter a valid email</span>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label for="mobile" class="">Mobile
                    <i *ngIf="getControlValidation('mobile','required')">*</i>
                </label>
                <input type="tel" name="mobile" class="form-control" formControlName="mobile" [(ngModel)]="appointment.mobile" placeholder="ex: (123) 123-1234"
                [textMask]="mobileMaskOpts" />
            </div>
        </div>
    </div>
</ng-container>
<div class="row">
    <!-- <div class="row"> -->
        
        <div class="col-md-6">
            <div class="form-group date-picker-cont">
                <label for="date" class="">Pick a date
                    <i *ngIf="getControlValidation('date','required')">*</i>
                </label>
                <input class="form-control" placeholder="yyyy-mm-dd" name="date" formControlName="date" [(ngModel)]="appointment.dateObj"
                ngbDatepicker #d="ngbDatepicker">
                <button class="input-group-addon" (click)="d.toggle()" type="button">
                    <i class="fa fa-calendar" aria-hidden="true"></i>
                </button>
                <span class="error-message" *ngIf="getControlValidation('date','invalidDate')">only valid date are today or after that</span>
            </div>
          </div>


          <div class="col-md-6">
            <div class="form-group">
              <label for="time" class="">Pick a time
                <i *ngIf="getControlValidation('time','req')">*</i>
              </label>
              <select name="time" formControlName="time" [(ngModel)]="appointment.time">
                <option disabled value="-1" selected>select time</option>
                <option *ngFor="let time of timeList" [ngValue]="time">{{time.timeStr}}</option>
              </select>
            </div>
          </div>



          <div class="col-md-6">
            <div class="form-group">
              <label for="appointmentType" class="">Appointment Type
                <i *ngIf="getControlValidation('appointmentType','req')">*</i>
              </label>
              <select name="appointmentType" formControlName="appointmentType" [(ngModel)]="appointment.typeId">
                <option disabled selected value="-1">select Type</option>
                <option *ngFor="let appoinType of appointmentTypes" [value]="appoinType.id">{{appoinType.name}}</option>
              </select>
            </div>
          </div>

          <div class="col-md-12">
            <div *ngIf="!isLoggedIn">
              <p>Please be informed that appointment will not be scheduled until a representative from the office contacts you
                via email</p>
            </div>
          </div>
          <div class="col-md-12">
            <button type="submit" (click)="scheduleAppointment()" class="btn btn-success">Send</button> &nbsp;
            <button type="reset" (click)="resetForm()" class="btn btn-danger">Clear</button>
          </div>
        </div>
      </form>
    </div>
  </div>
  <!-- /.registeration-container -->
</section>
<!-- /.registeration -->
